{% import 'macros/hidden_args.jinja2' as macros %}
<!-- MODAL: rattacher à un groupe d'objets -->
<div class="modal fade" id="objGroupModal_{{ o.id }}" tabindex="-1" aria-labelledby="objGroupModalLabel_{{ o.id }}" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form method="post" action="{{ url_for('objects_assign_to_group') }}">
        {{ macros.render_filtered_args(args) }}
        <input type="hidden" name="object_id" value="{{ o.id }}">
        <div class="modal-header">
          <h5 class="modal-title" id="objGroupModalLabel_{{ o.id }}">Ajouter au groupe</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>
        <div class="modal-body">
          <div class="mb-2">
            <label class="form-label">Rechercher un groupe</label>
            <input type="text" class="form-control obj-group-search" placeholder="Nom du groupe..." data-target="#objGroupResults_{{ o.id }}">
            <div class="list-group mt-2 small" id="objGroupResults_{{ o.id }}"></div>
          </div>
          <div class="text-center text-muted small">ou</div>
          <div class="mt-2">
            <label class="form-label">Créer un nouveau groupe</label>
            <input type="text" class="form-control" name="group_id_or_name" placeholder="Nouveau nom (Entrée pour créer)">
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Valider</button>
        </div>
      </form>
    </div>
  </div>
</div>
